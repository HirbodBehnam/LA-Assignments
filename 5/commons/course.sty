
\usepackage{graphicx}
\usepackage{float}
\usepackage[svgnames]{xcolor} 
\usepackage{fancyhdr}
\usepackage{tocloft}
\usepackage[hidelinks]{hyperref}
\usepackage[shortlabels]{enumitem}
\usepackage[many]{tcolorbox}
\usepackage{listings }
%\usepackage[a4paper, total={6in, 8in} , top = 2cm,bottom = 4cm]{geometry}
\usepackage[a4paper, total={6in, 8in}]{geometry}
\usepackage{afterpage}
\usepackage{amssymb}
\usepackage{pdflscape}
\usepackage{textcomp}
\usepackage{xecolor}
\usepackage{rotating}
\usepackage[Kashida]{xepersian}
\usepackage[T1]{fontenc}
\usepackage{tikz}
\usepackage[utf8]{inputenc}
\usepackage{PTSerif} 
\usepackage{seqsplit}
\usepackage{changepage}

\usepackage{listings}
\usepackage{xcolor}
\usepackage{sectsty}

\setcounter{secnumdepth}{0}
 
\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}
\definecolor{blanchedalmond}{rgb}{1.0, 0.92, 0.8}
\definecolor{brilliantlavender}{rgb}{0.96, 0.73, 1.0}
 
\NewDocumentCommand{\codeword}{v}{
\lr{\texttt{\textcolor{blue}{#1}}}
}

% https://gist.github.com/walkie/4591789
\lstdefinelanguage[mips]{Assembler}{%
  % so listings can detect directives and register names
  alsoletter={.\$},
  % strings, characters, and comments
  morestring=[b]",
  morestring=[b]',
  morecomment=[l]\#,
  % instructions
  morekeywords={[1]abs,abs.d,abs.s,add,add.d,add.s,addi,addiu,addu,%
    and,andi,bc1f,bc1t,beq,beqz,bge,bgeu,bgez,bgezal,bgt,bgtu,%
    bgtz,ble,bleu,blez,blt,bltu,bltz,bltzal,bne,bnez,break,c.eq.d,%
    c.eq.s,c.le.d,c.le.s,c.lt.d,c.lt.s,ceil.w.d,ceil.w.s,clo,clz,%
    cvt.d.s,cvt.d.w,cvt.s.d,cvt.s.w,cvt.w.d,cvt.w.s,div,div.d,div.s,%
    divu,eret,floor.w.d,floor.w.s,j,jal,jalr,jr,l.d,l.s,la,lb,lbu,%
    ld,ldc1,lh,lhu,li,ll,lui,lw,lwc1,lwl,lwr,madd,maddu,mfc0,mfc1,%
    mfc1.d,mfhi,mflo,mov.d,mov.s,move,movf,movf.d,movf.s,movn,movn.d,%
    movn.s,movt,movt.d,movt.s,movz,movz.d,movz.s,msub,msubu,mtc0,mtc1,%
    mtc1.d,mthi,mtlo,mul,mul.d,mul.s,mulo,mulou,mult,multu,mulu,neg,%
    neg.d,neg.s,negu,nop,nor,not,or,ori,rem,remu,rol,ror,round.w.d,%
    round.w.s,s.d,s.s,sb,sc,sd,sdc1,seq,sge,sgeu,sgt,sgtu,sh,sle,%
    sleu,sll,sllv,slt,slti,sltiu,sltu,sne,sqrt.d,sqrt.s,sra,srav,srl,%
    srlv,sub,sub.d,sub.s,subi,subiu,subu,sw,swc1,swl,swr,syscall,teq,%
    teqi,tge,tgei,tgeiu,tgeu,tlt,tlti,tltiu,tltu,tne,tnei,trunc.w.d,%
    trunc.w.s,ulh,ulhu,ulw,ush,usw,xor,xori,mov,load,store,push,pop,pushi,
	bnz,bz},
  % assembler directives
  morekeywords={[2].align,.ascii,.asciiz,.byte,.data,.double,.extern,%
    .float,.globl,.half,.kdata,.ktext,.set,.space,.text,.word},
  % register names
  morekeywords={[3]\$0,\$1,\$2,\$3,\$4,\$5,\$6,\$7,\$8,\$9,\$10,\$11,%
    \$12,\$13,\$14,\$15,\$16,\$17,\$18,\$19,\$20,\$21,\$22,\$23,\$24,%
    \$25,\$26,\$27,\$28,\$29,\$30,\$31,%
    \$zero,\$at,\$v0,\$v1,\$a0,\$a1,\$a2,\$a3,\$t0,\$t1,\$t2,\$t3,\$t4,
    \$t5,\$t6,\$t7,\$s0,\$s1,\$s2,\$s3,\$s4,\$s5,\$s6,\$s7,\$t8,\$t9,%
    \$k0,\$k1,\$gp,\$sp,\$fp,\$ra,R1,R2,R3,AC,R0,R5,R6,R7,R8,R9,R10,R11,R12,R13,R14,R15},
}[strings,comments,keywords]


\definecolor{CommentGreen}{rgb}{0,.6,0}
\lstdefinestyle{mystyle}{
	 language=[mips]Assembler
	 backgroundcolor=\color{backcolour},   
	 commentstyle=\color{codegreen},
	 keywordstyle=[1]\color{blue},    % instructions
     keywordstyle=[2]\color{magenta}, % directives
     keywordstyle=[3]\color{red}
	 numberstyle=\tiny\color{codegray},
	 commentstyle=\color{CommentGreen}
	 stringstyle=\color{codepurple},
	 basicstyle=\ttfamily\normalsize,
	 breakatwhitespace=false,         
	 breaklines=true,                 
	 captionpos=b,                    
	 keepspaces=true,                 
	 numbers=left,                    
	 numbersep=5pt,                  
	 showspaces=false,                
	 showstringspaces=false,
	 showtabs=false,                  
	 tabsize=2
}

\lstset{
	backgroundcolor=\color{backcolour},
	numbers=left,
	numbersep=5pt,
	numberstyle=\tiny\color{codegray},
   language=[mips]Assembler,
   escapechar=@, % include LaTeX code between `@' characters
   keepspaces,   % needed to preserve spacing with lstinline
   basicstyle=\footnotesize\ttfamily\bfseries,
   commentstyle=\color{CommentGreen},
   stringstyle=\color{cyan},
   showstringspaces=false,
   keywordstyle=[1]\color{blue},    % instructions
   keywordstyle=[2]\color{magenta}, % directives
   keywordstyle=[3]\color{red},     % registers
   breakatwhitespace=false,         
	 breaklines=true,                 
	 captionpos=b,             
	 numbers=left,                    
	 numbersep=5pt,                  
	 showspaces=false,                
	 showstringspaces=false,
	 showtabs=false,                  
	 tabsize=2
 }

 \settextfont[Path=fonts/,BoldFont={XB Zar bold.ttf},ItalicFont={XB Zar italic.ttf}]{XB Zar.ttf}


\setlatintextfont[Path=fonts/,Scale=1.0,
 BoldFont={LiberationSerif-Bold.ttf}, 
 ItalicFont={LiberationSerif-Italic.ttf}]{LiberationSerif-Regular.ttf}


% IO ranges
\newcommand{\inputdescription}[1]{
    ~\\
    \textbf{ورودی}
    \\#1
}

\newcommand{\outputdescription}[1]{
    ~\\
    \textbf{خروجی}
    \\#1
}

% IO examples
\newcommand{\inputsample}[1]{
    ~\\
    \textbf{ورودی نمونه}
    \begin{tcolorbox}[breakable,boxrule=0pt]
        \begin{latin}
            \large{
                #1
            }
        \end{latin}
    \end{tcolorbox}
}

\newcommand{\outputsample}[1]{
    ~\\
    \textbf{خروجی نمونه}
    \begin{tcolorbox}[breakable,boxrule=0pt]
        \begin{latin}
            \large{
                #1
            }
        \end{latin}
    \end{tcolorbox}
}

\newcommand{\codesample}[1]{
    \LTR
	\begin{latin}
    	\lstinputlisting{#1}
	\end{latin}
	\RTL
}

\newtcolorbox{mybox}[2][]{colback=red!5!white,
colframe=red!75!black,fonttitle=\bfseries,
colbacktitle=red!85!black,enhanced,
attach boxed title to top center={yshift=-2mm},
title=#2,#1}

\newenvironment{changemargin}[2]{%
\begin{list}{}{%
\setlength{\topsep}{0pt}%
\setlength{\leftmargin}{#1}%
\setlength{\rightmargin}{#2}%
\setlength{\listparindent}{\parindent}%
\setlength{\itemindent}{\parindent}%
\setlength{\parsep}{\parskip}%
}%
\item[]}{\end{list}}


\definecolor{foldercolor}{RGB}{124,166,198}
\definecolor{sectionColor}{HTML}{ff5e0e}
\definecolor{subsectionColor}{HTML}{008575}

\definecolor{listColor}{HTML}{00d3b9}

\definecolor{umlrelcolor}{HTML}{3c78d8}

\definecolor{subsubsectionColor}{HTML}{3c78d8}

\defpersianfont\authorFont[Scale=0.9,Path=fonts/]{XB Zar bold.ttf}

\defpersianfont\titr[Scale=1.5,Path=fonts/]{IRNazaninIrani.ttf}

\defpersianfont\fehrest[Scale=1.2,Path=fonts/]{IRNazaninIrani.ttf}

\defpersianfont\fehrestTitle[Scale=3.0,Path=fonts/]{IRNazaninIrani.ttf}

\defpersianfont\fehrestContent[Scale=1.2,Path=fonts/]{XB Zar bold.ttf}


\sectionfont{\color{sectionColor}}  % sets colour of sections
\subsectionfont{\color{subsectionColor}}  % sets colour of sections
\subsubsectionfont{\color{subsubsectionColor}}


\renewcommand{\labelitemii}{$\circ$}


\renewcommand{\baselinestretch}{1.1}


\renewcommand{\contentsname}{فهرست}

\renewcommand{\cfttoctitlefont}{\fehrestTitle}


\renewcommand\cftsecfont{\color{sectionColor}\fehrestContent\selectfont}
\renewcommand\cftsubsecfont{\color{subsectionColor}\fehrestContent\selectfont}
\renewcommand\cftsubsubsecfont{\color{subsubsectionColor}\fehrestContent\selectfont}
%\renewcommand{\cftsecpagefont}{\color{sectionColor}}

\setlength{\parskip}{1.2pt}



%------------intro---------------
\newcommand{\heading}[3]{
	\textbf{ \Huge{به نام خدا} }
	
	\vspace{0.2cm}
	
	\includegraphics[width=0.4\textwidth]{source/sharif1.png}\\
	\vspace{0.2cm}
	\textbf{ \Huge{\emph درس مبانی برنامه‌سازی} }\\
	\vspace{0.25cm}
	\textbf{ \Large{#1} }
	\vspace{0.2cm}
	
	
	\large \textbf{دانشکده مهندسی کامپیوتر}\\\vspace{0.1cm}
	\large   دانشگاه صنعتی شریف\\\vspace{0.2cm}
	\large   ﻧﯿﻢ سال دوم 00-99 \\\vspace{0.10cm}
	\noindent\rule[1ex]{\linewidth}{1pt}
	استاد:\\
	\textbf{{رضا فکوری}}
	
	\vspace{0.10cm}
	مسئول تمرین‌ها:\\
	\textbf{\authorFont{}}
	
	\vspace{0.20cm}
	
	مهلت ارسال:\\
	\textbf{#2}
	
	\vspace{0.10cm}
	طراحان #1:\\
	\textbf{\authorFont{#3}}
	
}



\newcommand{\pageheader}[0]{
%%% header of pages
	\thispagestyle{fancy}
	\fancyhf{}
	\fancyfoot{}
	\cfoot{\thepage}
	\lhead{99171333}
	\rhead{
		هیربد بهنام
	}
	\chead{تمرین 5 جبرخطی}
	%%% header of pages
	\renewcommand{\headrulewidth}{2pt}
	
	\KashidaOff
}

\newcommand{\smalltitle}[1]
{
	\noindent \textbf{#1}
}

%-------------questions and answers-----------------

\newenvironment{section-container}[1]
{
	\section*{{\titr #1}}
	\addcontentsline{toc}{section}{{\fehrestContent #1}}
}
{
	\newpage
}
\newcounter{question-count}
\newcommand{\question}[2]
{	\stepcounter{question-count}
	\subsection*{{\titr سوال \arabic{question-count}. #1}}
	
	\addcontentsline{toc}{subsection}{{\fehrestContent سوال \arabic{question-count}. #1}}
	
	\input{#2}
}
\newcounter{answer-count}
\newcommand{\answer}[2]{
	\stepcounter{answer-count}
	\subsection*{{\titr پاسخ \arabic{answer-count}. #1}}
	\addcontentsline{toc}{subsection}{{\fehrestContent پاسخ \arabic{answer-count}. #1}}
	
	\input{#2}
}

\newenvironment{vanishing}%
{%
	\ifthenelse{\isundefined{\showvanishing}}%
	{\expandafter\comment}%
	{}%
}%
{%
	\ifthenelse{\isundefined{\showvanishing}}%
	{\expandafter\endcomment}%
	{}%
}



